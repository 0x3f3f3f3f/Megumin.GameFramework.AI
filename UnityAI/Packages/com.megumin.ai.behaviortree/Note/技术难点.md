# 技术难点
这里是海面下的冰山！  

这里记录一些在插件设计之前，没有意识到的问题。  
在插件开发和使用到一定程度后，问题才随之出现，解决这些问题耗费了大量的时间。  
如果一开始就意识到这些问题，可能设计之初就会有更好的架构，也可能直接放弃开发。  

## 序列化反序列化

Q: 代码更改后，类名变更，命名空间变更，旧的序列化文件无法正确反序列的问题。  
A: 建立全局查找表。  
- 增加别名特性，反序列开始前反射处理全部别名。  
  当类型找不到时,从别名映射中查找。
- 类名替换机制，当找不到类型时，尝试替换一部分类名，替换命名空间等。  

